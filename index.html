<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mobile Wallet</title>
  <style>
    /* Reset and base styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      background: #000;
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      height: 100vh;
      overflow: hidden;
    }

    /* Header styles */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(20px);
      z-index: 1000;
    }

    .wallet-title {
      font-size: 34px;
      font-weight: 700;
    }

    .header-controls {
      display: flex;
      gap: 8px;
    }

    .control-btn {
      width: 32px;
      height: 32px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.1s ease;
      border: none;
    }

    .control-btn:active {
      transform: scale(0.9);
    }

    .control-btn svg {
      width: 20px;
      height: 20px;
      fill: #000;
    }

    /* Main content styles */
    .card-stack {
      margin-top: 84px;
      padding: 12px;
      height: calc(100vh - 84px);
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    .card-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding-bottom: 20px;
    }

    .card {
      position: relative;
      width: 100%;
      max-width: 400px;
      margin: 0 auto;
      border-radius: 16px;
      overflow: hidden;
      background: #1c1c1e;
      min-height: 200px;
      cursor: pointer;
    }

    .card img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
    }

    /* Overlay and modal styles */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }

    .modal {
      background: #1c1c1e;
      width: 90%;
      max-width: 400px;
      border-radius: 18px;
      padding: 24px;
      animation: modalIn 0.3s ease-out;
    }

    @keyframes modalIn {
      from {
        transform: translateY(50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .modal h2 {
      font-size: 22px;
      margin-bottom: 12px;
    }

    .modal-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 24px;
    }

    .btn {
      padding: 16px;
      border: none;
      border-radius: 12px;
      font-size: 17px;
      font-weight: 500;
      cursor: pointer;
      width: 100%;
    }

    .card-type-btn {
      background: #363638;
      color: white;
    }

    .delete-btn {
      background: #ff3b30;
      color: white;
    }

    .cancel-btn {
      background: #2c2c2e;
      color: white;
    }
  </style>
</head>
<body>
  <header>
    <h1 class="wallet-title">Wallet</h1>
    <div class="header-controls">
      <button class="control-btn" id="addBtn" title="Add Card">
        <svg viewBox="0 0 24 24">
          <path d="M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z" />
        </svg>
      </button>
      <button class="control-btn" id="deleteBtn" title="Delete All Cards">
        <svg viewBox="0 0 24 24">
          <path d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm-6 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm12 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" />
        </svg>
      </button>
    </div>
  </header>

  <main class="card-stack">
    <div class="card-container" id="cardContainer"></div>
  </main>

  <!-- Card Type Selection Modal -->
  <div class="overlay" id="cardTypeModal">
    <div class="modal">
      <h2>Add Card</h2>
      <div class="modal-actions">
        <button class="btn card-type-btn" id="addCredit">Credit/Debit Card</button>
        <button class="btn card-type-btn" id="addLoyalty">Loyalty Card</button>
        <button class="btn cancel-btn" id="cancelAdd">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div class="overlay" id="deleteModal">
    <div class="modal">
      <h2>Delete All Cards?</h2>
      <p>This action cannot be undone.</p>
      <div class="modal-actions">
        <button class="btn cancel-btn" id="cancelDelete">Cancel</button>
        <button class="btn delete-btn" id="confirmDelete">Delete All</button>
      </div>
    </div>
  </div>

  <!-- Image Preview Modal -->
  <div class="overlay" id="imagePreviewModal">
    <div class="modal">
      <div class="card">
        <img id="previewImage" src="" alt="Card Image" style="border-radius: 16px;" />
      </div>
      <div class="modal-actions" style="margin-top: 24px;">
        <button class="btn cancel-btn" id="closePreview">Done</button>
      </div>
    </div>
  </div>

  <script>
    const STORAGE_KEY = 'walletCards';
    let cards = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];

    const elements = {
      cardContainer: document.getElementById('cardContainer'),
      addBtn: document.getElementById('addBtn'),
      deleteBtn: document.getElementById('deleteBtn'),
      cardTypeModal: document.getElementById('cardTypeModal'),
      deleteModal: document.getElementById('deleteModal'),
      addCredit: document.getElementById('addCredit'),
      addLoyalty: document.getElementById('addLoyalty'),
      cancelAdd: document.getElementById('cancelAdd'),
      cancelDelete: document.getElementById('cancelDelete'),
      confirmDelete: document.getElementById('confirmDelete'),
      imagePreviewModal: document.getElementById('imagePreviewModal'),
      previewImage: document.getElementById('previewImage'),
      closePreview: document.getElementById('closePreview'),
    };

    document.addEventListener('DOMContentLoaded', init);

    function init() {
      checkFirstVisit();
      renderCards();
      setupEventListeners();
    }

    function checkFirstVisit() {
      if (!localStorage.getItem('disclaimerAccepted')) {
        showLegalDisclaimer();
      }
    }

    function showLegalDisclaimer() {
      const disclaimerText =
        'This app is for educational purposes only.\nDo not use for actual financial transactions.';
      if (confirm(disclaimerText)) {
        localStorage.setItem('disclaimerAccepted', 'true');
      } else {
        window.location.href = 'about:blank';
      }
    }

    function renderCards() {
      elements.cardContainer.innerHTML = '';
      cards.forEach((card, index) => {
        const cardElement = document.createElement('div');
        cardElement.className = 'card';

        const img = new Image();
        img.src = card.image;
        img.alt = `${card.type} card`;
        img.style.width = '100%';

        img.onload = () => {
          cardElement.style.background = 'transparent';
        };

        img.onerror = () => {
          alert('Failed to load image. Removing card.');
          cardElement.remove();
          cards.splice(index, 1);
          localStorage.setItem(STORAGE_KEY, JSON.stringify(cards));
        };

        cardElement.appendChild(img);
        cardElement.addEventListener('click', () => showCardDetail(card));
        elements.cardContainer.appendChild(cardElement);
      });
    }

    function showCardDetail(card) {
      elements.previewImage.src = card.image;
      elements.imagePreviewModal.style.display = 'flex';
    }

    function setupEventListeners() {
      // Add Card Flow
::contentReference[oaicite:0]{index=0}
 
